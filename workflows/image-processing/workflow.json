{
    "Name": "ImageProcessingPipeline",
    "Description": "Load a local image, convert it to grayscale, apply a watermark, and then upload it to Google Cloud Storage",
    "Configuration": {
      "DegreeOfParallelism": 3,
      "Timeout": 900000,
      "ErrorHandling": {
        "Strategy": "Abort"
      }
    },
    "Tasks": [
      {
        "Name": "LoadImage",
        "Type": "",
        "Parameters": {
          "Operation": "read",
          "Path": "text_image.png"
        },
        "Position": { "X": 80, "Y": 40 }
      },
      {
        "Name": "GrayscaleImage",
        "Type": {
          "Plugin": "FlowSynx.Media.ImageProcessing",
          "Version": "1.1.0"
        },
        "Dependencies": ["LoadImage"],
        "Parameters": {
          "Operation": "grayscale",
          "Data": "$[Outputs('LoadImage')]"
        },
        "Position": { "X": 120, "Y": 40 }
      },
      {
        "Name": "WatermarkImage",
        "Type": {
          "Plugin": "FlowSynx.Media.ImageProcessing",
          "Version": "1.1.0"
        },
        "Dependencies": ["GrayscaleImage"],
        "Parameters": {
          "Operation": "watermark",
          "Data": "$[Outputs('GrayscaleImage')]",
          "Text": "Sample watermark",
          "FontName": "Arial",
          "FontSize": 32,
          "FontColor": "#FF0000",
          "Top": 5,
          "Left": 5
        },
        "Position": { "X": 160, "Y": 40 }
      },
      {
        "Name": "SaveProcessedImage",
        "Type": {
            "Plugin": "FlowSynx.Cloud.Google.Storage",
            "Version": "1.0.0",
            "Specifications": {
              "ProjectId": "my-gcp-project",
              "PrivateKeyId": "abc123xyz456",
              "PrivateKey": "-----BEGIN PRIVATE KEY-----\nMIIEv...\n-----END PRIVATE KEY-----\n",
              "ClientEmail": "service-account@my-gcp-project.iam.gserviceaccount.com",
              "ClientId": "1234567890",
              "BucketName": "flowfiles"
            }
        },
        "Dependencies": ["WatermarkImage"],
        "Parameters": {
          "Operation": "write",
          "Path": "images/processed_image_01.png",
          "Data": "$[Outputs('WatermarkImage')]",
          "Overwrite": true
        },
        "Position": { "X": 200, "Y": 40 }
      }
    ]
  }